
### Содерждание

1. [Инструкция по запуску](#instraction) \
	1.1 [Запуск Docker](#docker) \
	1.2 [Запуск npm + postgres](#npm)
2. [Чеклист проекта](#checklist) 
3. [База данных](#db) 
4. [Стек технологий](#stack)

### <div id="instraction">Инструкция по запуску</div>

> Вы можете запустить проект двумя разными способами. Для начала перейдите в корневую папку проекта и откройте терминал
#### <div id="docker">1. Docker и docker compose</div>

> Проверить наличие docker:
> `docker --version`\
> Проверить наличие docker-compose:
> `docker-compose --version`


1.1 Сборка контейнеров
```
docker-compose up -d
```
1.2 Копирования sql-скрипта контейнер
```bash
	docker cp ./init-db.sql postgres_db:/docker-entrypoint-initdb.d/init.sql
```
1.3 Запуск sql-скрипта в контейнере
```bash
	docker exec -it postgres_db psql -U user -d company -f /docker-entrypoint-initdb.d/init.sql
```
1.4 Откройте <a href="http://localhost:3000/" target="_blank">ссылку</a> в браузере

#### <div id="npm">2. Запуск через npm и potgresql</div>
2.1 Подключитесь к postgres на локальной машине \
2.2 Создайте базу данных **company** \
2.3 Настройте конфиг подключения к базе данных в `./server/src/config/db.config.js`\
2.4 Установите зависимости для сервера:
>Перейдите в `./server` и запустите в консоли `npm install`

2.4 Запустите сервер:
>Перейдите в `./server` и запустите в консоли `npm start`

2.5 После успешного подключения откройте psql или pgAdmin и выполните sql-скрипт из файла `./init-db.sql`

2.6 Установите зависимости для клиента:
>Перейдите в `./client` и запустите в консоли `npm install`

2.7 Запустите клиент:
>Перейдите в `./client` и запустите в консоли `npm start`
>
2.8 Откройте <a href="http://localhost:3000/" target="_blank">ссылку</a> в браузере



### <div id="checklist">3. Чеклист проекта</div>
##### База данных
- База данных company в Postgres с двумя таблицами
- Таблицы связаны по полю foreign key у office
- Каждая таблица имеет поле-ключ и другие поля
- Скрипт init-db.sql в корневой папке проекта

##### Серверная часть
- Подключение к БД с помощью sequalize
- Часть функций написана на SQL (запросы к таблице office)
- Частичная подгрузка данных для office с помощью LIMIT и OFFSET
- Роутеры написаны по архитектурному стилю REST API
- Сервер реализует CRUD операции
- Серверная часть разбита на папки models, controllers и routes по сущностям employee и office
- Валидация данных и обработка ошибок
- Сервер-сайд фильтрация и сортировка для таблицы office

##### Клиентская часть
- Dashboard c боковым меню из пунктов Таблицы, Профиль, Чекликст
- 2 таблицы Ag-Grid с данными, полученными от сервера
- Над связанной таблицей (Employee) кнопки Добавить, Изменить, Удалить
- Добавление/изменение записи учитывает связь с главной таблицей
- Главная таблица (Office) реализует infinite loading
- Dashboard использует шаблон c сайта Creative Tim (Material Dashboard 2 React)
- Валидация вводимых данных
- Кастомизация и адаптивность

##### Деплой
- Инструкция по запуску в README.md
- Docker и Docker compose

### <div id="db">4. База данных</div>

#### Office 
|      Column     |    DataType   |
|:---------------:|:-------------:|
|        id       |    INTEGER    |
|     country     |     STRING    |
|       city      |     STRING    |
| square          | DECIMAL(20,2) |
| squareRentPrice | DECIMAL(20,2) |
| openingDate     |    DATEONLY   |
| createdAt       |    DATEONLY   |
| updatedAt       |      DATE     |

#### Employee
|   Column  |   DataType  |
|:---------:|:-----------:|
|     id    |   INTEGER   |
| firstName |    STRING   |
|  lastName |    STRING   |
| gender    |     ENUM    |
| birthday  |   DATEONLY  |
| position  |     ENUM    |
| salary    | DECIMAL(20) |
| passport  | DECIMAL(10) |
| createdAt |   DATEONLY  |
| updatedAt |     DATE    |

### <div id="stack">5. Стек технологий</div>
![JavaScript](https://img.shields.io/badge/javascript-%23323330.svg?style=for-the-badge&logo=javascript&logoColor=%23F7DF1E)
![React](https://img.shields.io/badge/react-%2320232a.svg?style=for-the-badge&logo=react&logoColor=%2361DAFB)
![MUI](https://img.shields.io/badge/MUI-%230081CB.svg?style=for-the-badge&logo=mui&logoColor=white)

<svg width="20%" height="100%" viewBox="0 0 235 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(0.635723,0,0,0.635723,-492.921,-323.608)">
        <path d="M1099.4,549.4L1099.4,536.9L1078.1,536.9L1065.6,549.4L1099.4,549.4Z" style="fill:rgb(255,139,0);fill-rule:nonzero;"/>
        <path d="M1123.4,518.4L1096.7,518.4L1084.1,530.9L1123.4,530.9L1123.4,518.4Z" style="fill:rgb(85,178,198);fill-rule:nonzero;"/>
        <path d="M1053.2,561.9L1059.6,555.5L1081.2,555.5L1081.2,568L1053.2,568L1053.2,561.9Z" style="fill:rgb(255,0,0);fill-rule:nonzero;"/>
        <path d="M1057.9,543.3L1071.7,543.3L1084.3,530.8L1057.9,530.8L1057.9,543.3Z" style="fill:rgb(180,187,191);fill-rule:nonzero;"/>
        <path d="M1042.8,561.9L1053.2,561.9L1065.6,549.4L1042.8,549.4L1042.8,561.9Z" style="fill:rgb(180,187,191);fill-rule:nonzero;"/>
        <path d="M1096.7,518.4L1090.3,524.8L1049.5,524.8L1049.5,512.3L1096.7,512.3L1096.7,518.4Z" style="fill:rgb(180,187,191);fill-rule:nonzero;"/>
        <path d="M828.6,559.7L809,559.7L805.6,568.1L797,568.1L815.1,525.7L822.6,525.7L840.7,568.1L832,568.1L828.6,559.7ZM825.9,553L818.8,535.7L811.7,553L825.9,553Z" style="fill:rgb(3,28,76);fill-rule:nonzero;"/>
        <path d="M960.1,541.3C962.6,537.6 968.9,537.2 971.5,537.2L971.5,544.4C968.3,544.4 965.1,544.5 963.2,545.9C961.3,547.3 960.3,549.2 960.3,551.5L960.3,568.1L952.5,568.1L952.5,537.2L960,537.2L960.1,541.3Z" style="fill:rgb(3,28,76);fill-rule:nonzero;"/>
        <rect x="975.8" y="537.2" width="7.8" height="30.9" style="fill:rgb(3,28,76);"/>
        <rect x="975.8" y="523.4" width="7.8" height="9.2" style="fill:rgb(3,28,76);"/>
        <path d="M1022.3,523.4L1022.3,568.1L1014.8,568.1L1014.6,563.4C1013.5,565 1012.1,566.3 1010.4,567.3C1008.7,568.2 1006.6,568.7 1004.2,568.7C1002.1,568.7 1000.1,568.3 998.4,567.6C996.6,566.8 995,565.8 993.7,564.4C992.4,563 991.3,561.3 990.6,559.4C989.8,557.5 989.5,555.3 989.5,552.9C989.5,550.5 989.9,548.3 990.6,546.3C991.4,544.3 992.4,542.6 993.7,541.2C995,539.8 996.6,538.7 998.4,537.9C1000.2,537.1 1002.1,536.7 1004.2,536.7C1006.6,536.7 1008.6,537.1 1010.3,538C1012,538.9 1013.4,540.1 1014.5,541.8L1014.5,523.5L1022.3,523.5L1022.3,523.4ZM1005.9,562C1008.5,562 1010.5,561.1 1012.1,559.4C1013.7,557.7 1014.5,555.4 1014.5,552.6C1014.5,549.8 1013.7,547.6 1012.1,545.8C1010.5,544.1 1008.5,543.2 1005.9,543.2C1003.4,543.2 1001.3,544.1 999.8,545.8C998.2,547.5 997.4,549.8 997.4,552.6C997.4,555.4 998.2,557.6 999.8,559.3C1001.4,561.1 1003.4,562 1005.9,562" style="fill:rgb(3,28,76);fill-rule:nonzero;"/>
        <path d="M885.8,544.2L866.5,544.2L866.5,550.9L877.5,550.9C877.2,554.3 875.9,556.9 873.7,559C871.5,561 868.7,562 865.1,562C863.1,562 861.2,561.6 859.6,560.9C857.9,560.2 856.5,559.2 855.3,557.8C854.1,556.5 853.2,554.9 852.5,553C851.8,551.1 851.5,549.1 851.5,546.8C851.5,544.5 851.8,542.5 852.5,540.6C853.1,538.7 854.1,537.2 855.3,535.8C856.5,534.5 857.9,533.5 859.6,532.7C861.3,532 863.1,531.6 865.2,531.6C869.4,531.6 872.6,532.6 874.8,534.6L880,529.4C876.1,526.4 871.1,524.8 865.2,524.8C861.9,524.8 858.9,525.3 856.2,526.4C853.5,527.5 851.2,528.9 849.3,530.8C847.4,532.7 845.9,535 844.9,537.7C843.9,540.4 843.4,543.4 843.4,546.6C843.4,549.8 843.9,552.8 845,555.5C846.1,558.2 847.5,560.5 849.4,562.4C851.3,564.3 853.6,565.8 856.3,566.8C859,567.9 862,568.4 865.2,568.4C868.4,568.4 871.3,567.9 873.9,566.8C876.5,565.7 878.7,564.3 880.5,562.4C882.3,560.5 883.7,558.2 884.7,555.5C885.7,552.8 886.2,549.8 886.2,546.6L886.2,545.3C885.9,545.1 885.8,544.6 885.8,544.2" style="fill:rgb(3,28,76);fill-rule:nonzero;"/>
        <path d="M946.8,544.2L927.5,544.2L927.5,550.9L938.5,550.9C938.2,554.3 936.9,556.9 934.7,559C932.5,561 929.7,562 926.1,562C924.1,562 922.2,561.6 920.6,560.9C918.9,560.2 917.5,559.2 916.3,557.8C915.1,556.5 914.2,554.9 913.5,553C912.8,551.1 912.5,549.1 912.5,546.8C912.5,544.5 912.8,542.5 913.5,540.6C914.1,538.7 915.1,537.2 916.3,535.8C917.5,534.5 918.9,533.5 920.6,532.7C922.3,532 924.1,531.6 926.2,531.6C930.4,531.6 933.6,532.6 935.8,534.6L941,529.4C937.1,526.4 932.1,524.8 926.2,524.8C922.9,524.8 919.9,525.3 917.2,526.4C914.5,527.5 912.2,528.9 910.3,530.8C908.4,532.7 906.9,535 905.9,537.7C904.9,540.4 904.4,543.4 904.4,546.6C904.4,549.8 904.9,552.8 906,555.5C907.1,558.2 908.5,560.5 910.4,562.4C912.3,564.3 914.6,565.8 917.3,566.8C920,567.9 923,568.4 926.2,568.4C929.4,568.4 932.3,567.9 934.9,566.8C937.5,565.7 939.7,564.3 941.5,562.4C943.3,560.5 944.7,558.2 945.7,555.5C946.7,552.8 947.2,549.8 947.2,546.6L947.2,545.3C946.9,545.1 946.8,544.6 946.8,544.2" style="fill:rgb(3,28,76);fill-rule:nonzero;"/>
    </g>
</svg>

![NodeJS](https://img.shields.io/badge/node.js-6DA55F?style=for-the-badge&logo=node.js&logoColor=white)
![Express.js](https://img.shields.io/badge/express.js-%23404d59.svg?style=for-the-badge&logo=express&logoColor=%2361DAFB)
![Postgres](https://img.shields.io/badge/postgres-%23316192.svg?style=for-the-badge&logo=postgresql&logoColor=white)
![Sequelize](https://img.shields.io/badge/Sequelize-52B0E7?style=for-the-badge&logo=Sequelize&logoColor=white)

![Docker](https://img.shields.io/badge/docker-%230db7ed.svg?style=for-the-badge&logo=docker&logoColor=white)